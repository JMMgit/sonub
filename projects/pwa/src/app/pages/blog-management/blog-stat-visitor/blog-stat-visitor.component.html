<mat-toolbar  class="border-top border-top-md-0">
    <h1 class="px-md-2 fw-light">Statistics</h1>
</mat-toolbar>

<section class="bg-white p-3 px-md-4">

  <div class="mb-3">
    <button class="mr-1 bg-green" mat-flat-button (click)="loadStat('uniqueVisitor')">Visitor</button>
    <button mat-flat-button color="primary" (click)="loadStat('pageView')">Page View</button>
  </div>


  <div class="d-md-flex">
    <mat-form-field class="w-100 mr-md-3 border-box" appearance="outline">
      <mat-label>Date From</mat-label>
      <input matInput [matDatepicker]="from_date_picker" disabled [(ngModel)]=" from_date " (dateChange)="loadStat()">
      <mat-datepicker-toggle matSuffix [for]="from_date_picker"></mat-datepicker-toggle>
      <mat-datepicker #from_date_picker disabled="false"></mat-datepicker>
    </mat-form-field>

    <mat-form-field class="w-100 ml-md-3 border-box" appearance="outline">
      <mat-label>Date To</mat-label>
      <input matInput [matDatepicker]="to_date_picker" disabled [(ngModel)]=" to_date " (dateChange)="loadStat()">
      <mat-datepicker-toggle matSuffix [for]="to_date_picker"></mat-datepicker-toggle>
      <mat-datepicker #to_date_picker disabled="false"></mat-datepicker>
    </mat-form-field>
  </div>

  <div class="of-scroll">
    <div class="bar-graph" *ngIf="a.isDesktop">
      <div class="bar-graph-header">
        <h2 class="bar-graph-title">{{selectedTitle[selectedStats]}}</h2>
        <div class="bar-graph-subtitle" *ngIf=" data && data[selectedStats]?.stats">
          <span><b>Total:</b> {{ data[selectedStats]?.total }}</span>
        </div>
      </div>
      <div class="bar-graph-content" *ngIf=" a.isDesktop && data && data[selectedStats]?.stats">
        <div *ngFor="let k of _.keys(data[selectedStats]['stats'])">
          <div class="bar-item" *ngIf="data[selectedStats]['stats']" [style.height.px]=" barHeight(data[selectedStats]['stats'][k] , data[selectedStats].total)">
            <div class="bar-item-no">{{data[selectedStats]['stats'][k] }}</div>
            <div class="bar-item-date">{{ formatDate( k )}}</div>
          </div>
        </div>
      </div>
    </div>
    <table class="text-center" border="1" *ngIf=" a.isMobile &&  data[selectedStats] && data[selectedStats]?.stats ">
      <tr>
        <td>Date</td>
        <td bgcolor="gray">{{selectedTitle[selectedStats]}}</td>
      </tr>
      <tr *ngFor="let k of _.keys(data[selectedStats]['stats'])">
        <td class="px-5 ">{{k}}</td>
        <td class="px-5" *ngIf="data[selectedStats]['stats']" >{{ data[selectedStats]['stats'][k]}}</td>
      </tr>
      <tr>
        <td>Total</td>
        <td  *ngIf="data[selectedStats]?.total" >{{ data[selectedStats]?.total }}</td>
      </tr>
    </table>

  </div>

  <!--<div class="px-2 pt-4 pb-5">-->
      <!--<p>Languages(Country) base on browser language</p>-->

      <!--<p> Platform stat: Windows, Mac, Android, iOS, etc.</p>-->
  <!--</div>-->

</section>
