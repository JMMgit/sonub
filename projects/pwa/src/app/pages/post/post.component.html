<section class="p-4 bg-white" page="post">

  <div class="flex-center justify-content-between">
    <app-avatar class="d-block mb-3" *ngIf=" philgo.isLoggedIn() "></app-avatar>
    <div class="mb-3 text-primary">
      <div>Select where you want to post...</div>

      Posting on {{ form.post_id }}
      <div>
        <select name='post_id' [(ngModel)]="form.post_id">
          <option value=''>Select Forum </option>
          <option value='blog'>My Blog</option>
          <option value='discussion'>Discussion</option>
          <option value='answer'>Question & Answer</option>
          <option value='market'>Buy & Sell</option>
          <option value='media'>News</option>
        </select>
      </div>
      <div *ngIf=" a.blog?.categories ">
        <select name='category' [(ngModel)]="form.category" *ngIf=" form.post_id == 'blog' ">
          <ng-container *ngIf=" a.blog.categories?.length ">
            <option value=''>Select Blog Category</option>
            <option *ngFor=" let category of a.blog.categories " value='{{ category }}'>{{ category }}</option>
          </ng-container>
          <ng-container *ngIf=" ! a.blog.categories?.length ">
            <option value=''>No category. Please create category.</option>
          </ng-container>
        </select>
      </div>
    </div>
  </div>

  <section class="d-md-flex" *ngIf="philgo.isLoggedOut() ">

    <mat-form-field appearance="outline" class="w-100 mr-md-3">
      <input matInput type="email" name="email" [(ngModel)]=" form.user_email " (keyup)="onSubjectKeyUp()">
      <mat-label>Email</mat-label>
    </mat-form-field>


    <mat-form-field appearance="outline" class="w-100 ml-md-3">
      <input matInput type="password" name="password" [(ngModel)]=" form.user_password " (keyup)="onSubjectKeyUp()">
      <mat-label>Password</mat-label>
    </mat-form-field>

  </section>


  <mat-form-field appearance="outline" class="w-100">
    <input class="w-100" matInput name="subject" [(ngModel)]=" form.subject " (keyup)="onSubjectKeyUp()">
    <mat-label>Title</mat-label>
  </mat-form-field>


  <ckeditor class='ckeditor' [editor]="Editor" [(ngModel)]=" form.content " (change)="onChangeContent( $event )"
    [config]="{
    ckfinder: {uploadUrl: philgo.getFileServerRootUrl() + 'etc/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Images&responseType=json' }
  }">
    <div>Write comment</div>
  </ckeditor>


  <section class="admin-options box" *ngIf=" philgo.isAdmin() ">
    <header>Admin Options</header>
    <article>
      <mat-form-field appearance="outline" class="mt-3 w-100">
        <input class="w-100" matInput name="access_code" [(ngModel)]=" form.access_code " (keyup)="onSubjectKeyUp()">
        <mat-label>Access Code</mat-label>
      </mat-form-field>
    </article>
  </section>


  <div class="list-row my-4 text-center">
    <button class="mx-2 bg-white black bg-light" mat-flat-button type="button" routerLink="/menu">
      <i class="material-icons red">clear</i>
      <span class="ml-1">Cancel</span>
    </button>
    <button class="mx-2 bg-primary" mat-flat-button type="submit" (click)=" onSubmit() ">
      <span class="mr-2">Submit</span>
      <i class="material-icons">send</i>
    </button>
  </div>


</section>
