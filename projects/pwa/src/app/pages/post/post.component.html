<section class="p-3 p-md-4  bg-white" page="post">

  <div class="d-md-flex justify-content-between mt-2 pr-md-1">
    <div class=" mb-2 flex-grow-1">
        <app-avatar class="d-block mb-2" *ngIf=" philgo.isLoggedIn() "></app-avatar>
        <div class="text-success fs-md">Posting on {{ form.post_id }}</div>
    </div>
    <div class="w-100 w-md-70">
      <div class="fs-sm">Select where you want to post...</div>
      <div class="d-flex flex-wrap flex-md-nowrap">
          <mat-form-field class="w-100">
              <mat-select name='post_id' [(ngModel)]="form.post_id">
                <mat-option value=''>Select Forum </mat-option>
                <mat-option value='blog'>My Blog</mat-option>
                <mat-option value='discussion'>Discussion</mat-option>
                <mat-option value='answer'>Question & Answer</mat-option>
                <mat-option value='market'>Buy & Sell</mat-option>
                <mat-option value='media'>News</mat-option>
              </mat-select>
            </mat-form-field>
            <ng-container  *ngIf=" a.blog?.categories ">
                <mat-form-field class="w-100 ml-md-4"  *ngIf=" form.post_id == 'blog' ">
                    <mat-select name='category' [(ngModel)]="form.category" placeholder="Select Blog Category">
                      <ng-container *ngIf=" a.blog.categories?.length ">
                        <mat-option *ngFor=" let category of a.blog.categories " value='{{ category }}'>{{ category }}</mat-option>
                      </ng-container>
                      <ng-container *ngIf=" ! a.blog.categories?.length ">
                        <mat-option value=''>No category. Please create category.</mat-option>
                      </ng-container>
                    </mat-select>
                  </mat-form-field>
            </ng-container>
      </div>
    </div>
  </div>

  <section class="d-md-flex" *ngIf="philgo.isLoggedOut() ">

    <mat-form-field appearance="outline" class="w-100 mr-md-3">
      <input matInput type="email" name="email" [(ngModel)]=" form.user_email " (keyup)="onSubjectKeyUp()">
      <mat-label>Email</mat-label>
    </mat-form-field>


    <mat-form-field appearance="outline" class="w-100 ml-md-3">
      <input matInput type="password" name="password" [(ngModel)]=" form.user_password " (keyup)="onSubjectKeyUp()">
      <mat-label>Password</mat-label>
    </mat-form-field>

  </section>


  <mat-form-field appearance="outline" class="w-100">
    <input class="w-100" matInput name="subject" [(ngModel)]=" form.subject " (keyup)="onSubjectKeyUp()">
    <mat-label>Title</mat-label>
  </mat-form-field>


  <ckeditor class='ckeditor' [editor]="Editor" [(ngModel)]=" form.content " (change)="onChangeContent( $event )"
    [config]="{
    ckfinder: {uploadUrl: philgo.getFileServerRootUrl() + 'etc/ckfinder/core/connector/php/connector.php?command=QuickUpload&type=Images&responseType=json' }
  }">
    <div>Write comment</div>
  </ckeditor>


  <section class="admin-options box" *ngIf=" philgo.isAdmin() ">
    <header>Admin Options</header>
    <article>
      <mat-form-field appearance="outline" class="mt-3 w-100">
        <input class="w-100" matInput name="access_code" [(ngModel)]=" form.access_code " (keyup)="onSubjectKeyUp()">
        <mat-label>Access Code</mat-label>
      </mat-form-field>
    </article>
  </section>


  <div class="list-row my-4 text-center">
    <button class="mx-2 bg-white black bg-light" mat-flat-button type="button" routerLink="/menu">
      <i class="material-icons red">clear</i>
      <span class="ml-1">Cancel</span>
    </button>
    <button class="mx-2 bg-primary" mat-flat-button type="submit" (click)=" onSubmit() ">
      <span class="mr-2">Submit</span>
      <i class="material-icons">send</i>
    </button>
  </div>


</section>
