<ion-header class="">
  <app-header [page]=" 'home' " [title]=" 'Sonub' "></app-header>
</ion-header>

<ion-content padding>

  <app-request-push-notification></app-request-push-notification>


  <div class="d-flex" routerLink="/create">
    <app-avatar></app-avatar>
    <div class="ml-3 border w-100">&nbsp; What's on your mind?</div>
  </div>


  <div *ngIf=" a.frontPage ">
    <div>Sonub Version: {{ a.frontPage.info.version }}</div>
    <div>My blog posts: {{ a.frontPage.no_of_my_blog_posts }}</div>
    <div>
      My new posts
      <div *ngFor="let post of a.frontPage.my_latest_blog_posts ">
        {{ post.subject }}
        <div [innerHTML]=" a.safeHtml(post.content) "></div>
      </div>
    </div>
  </div>

  <div class="community-posts" *ngIf="a.frontPage?.communityPosts?.length">
    <div class="row no-gutters">
      <a ion-activable class="col-3 px-2" *ngFor="let post of a.frontPage.communityPosts" href="{{ urlView(post) }}"
        (click)="onClickPhoto( $event, post )">
        <ion-ripple-effect></ion-ripple-effect>
        <img class="w-100" src="{{ philgo.thumbnailUrl({ width: 100, height: 100, idx: post.no_of_first_image }) }}">
        <div class="pt-1 truncate darkblue" *ngIf=" post.subject ">{{ post.subject | slice:0:16 }}</div>
        <div class="pt-1 truncate whitespace-md-prewrap text-muted" *ngIf=" a.postContentOnMainPhoto(post) ">{{ a.postContentOnMainPhoto(post) |
          slice: 0 : 20 }}</div>
      </a>
    </div>
  </div>

</ion-content>
